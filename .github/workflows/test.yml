on: [push]

jobs:
  test-linux:
    runs-on: ubuntu-20.04
    name: Test Linux
    steps:
      - name: Checkout
        uses: actions/checkout@v2
        with:
          fetch-depth: 0        
      - name: GitVersion
        id: GitVersion
        uses: ./ # This repo action
      - name: Test
        run: 
          echo ${{ GitVersion.outputs.ShortVersion }}
          echo ${{ GitVersion.outputs.LongVersion }}
          echo ${{ GitVersion.outputs.GitVersion }}

  test-win:
    runs-on: windows-2022
    name: Test Windows
    steps:
      - name: Checkout
        uses: actions/checkout@v2
        with:
          fetch-depth: 0        
      - name: GitVersion
        id: GitVersion
        uses: ./ # This repo action
      - name: Test
        run: 
          echo ${{ GitVersion.outputs.ShortVersion }}
          echo ${{ GitVersion.outputs.LongVersion }}
          echo ${{ GitVersion.outputs.GitVersion }}