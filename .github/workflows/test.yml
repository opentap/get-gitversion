on: [push]

jobs:
  test-linux:
    runs-on: ubuntu-20.04
    name: Test Linux
    steps:
      - name: Checkout
        uses: actions/checkout@v2
        with:
          fetch-depth: 0        
      - name: GitVersion
        id: GitVersion
        uses: ./ # Uses an action in the root directory
      - name: Test
        run: 
          echo "ShortVersion ${{ steps.GitVersion.ShortVersion }}"
          echo "LongVersion ${{ steps.GitVersion.LongVersion }}"
          echo "GitVersion ${{ steps.GitVersion.GitVersion }}"        

  test-win:
    runs-on: windows-2022
    name: Test Windows
    steps:
      - name: Checkout
        uses: actions/checkout@v2
        with:
          fetch-depth: 0        
      - name: GitVersion
        id: GitVersion
        uses: ./ # Uses an action in the root directory
      - name: Test
        run: 
          echo "ShortVersion ${{ steps.GitVersion.ShortVersion }}"
          echo "LongVersion ${{ steps.GitVersion.LongVersion }}"
          echo "GitVersion ${{ steps.GitVersion.GitVersion }}"        